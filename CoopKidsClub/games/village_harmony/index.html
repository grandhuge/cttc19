<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกม: หมู่บ้าน (ไม่) ลับแล - รวมพลังสร้างสุข</title>
    <link rel="stylesheet" href="css/village_game_style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container" id="villageMinigameApp">
        <header class="game-header">
            <a href="../../activities.html" class="back-to-activities-btn">ᐊ กลับหน้ากิจกรรมหลัก</a>
            <h1>หมู่บ้าน (ไม่) ลับแล: รวมพลังสร้างสุข</h1>
        </header>

        <main class="game-area">
            <div class="mascot-feedback-area" id="mascotFeedbackArea">
                <div class="mascot-container">
                    <img src="images/aomtung_guide.png" alt="พี่ออมตังค์" id="aomtungGuideImg">
                    <img src="images/panpol_guide.png" alt="น้องปันผล" id="panpolGuideImg">
                </div>
                <p id="feedbackText">หมู่บ้านหรรษามีปัญหาหลายอย่างเลย! มาเลือกช่วยชาวบ้านกันเถอะ!</p>
            </div>

            <div class="main-content-area">
                <div class="village-map-container active-view" id="villageMapContainer">
                    <img src="images/village_map_intro.png" alt="แผนที่หมู่บ้าน" class="village-map-bg" id="villageMapBg">
                    <button class="problem-hotspot" id="hotspotFarmer" data-minigame="farmer" style="top: 30%; left: 20%;">
                        <img src="images/icon_problem_farm.png" alt="ปัญหาฟาร์มลุงมี">
                        <span>ฟาร์มลุงมี</span>
                    </button>
                    <button class="problem-hotspot" id="hotspotWeaver" data-minigame="weaver" style="top: 55%; left: 35%;">
                        <img src="images/icon_problem_market.png" alt="ปัญหาร้านป้าสวย">
                        <span>ร้านป้าสวย</span>
                    </button>
                    <button class="problem-hotspot" id="hotspotFisherman" data-minigame="fisherman" style="top: 70%; left: 60%;">
                        <img src="images/icon_problem_boat.png" alt="ปัญหาเรือน้าชัย">
                        <span>ท่าเรือน้าชัย</span>
                    </button>
                    <div class="coop-building-spot" id="coopBuildingHotspot" data-minigame="coop_build" style="top: 45%; left: 60%; display: none;">
                        <img src="images/coop_building_empty.png" alt="สร้างสหกรณ์" id="coopBuildingImg">
                        <span>สร้างสหกรณ์!</span>
                    </div>
                    <img src="images/farmer_happy.png" class="solved-indicator" id="farmerSolvedIndicator" alt="ลุงมีมีความสุข" style="display:none; position:absolute; top: 30%; left: 20%; width:50px;">
                    <img src="images/weaver_happy.png" class="solved-indicator" id="weaverSolvedIndicator" alt="ป้าสวยมีความสุข" style="display:none; position:absolute; top: 55%; left: 35%; width:50px;">
                    <img src="images/fisherman_happy.png" class="solved-indicator" id="fishermanSolvedIndicator" alt="น้าชัยมีความสุข" style="display:none; position:absolute; top: 70%; left: 60%; width:50px;">
                </div>

                <div class="minigame-view" id="minigameView">
                    </div>
            </div>
        </main>

        <footer class="game-progress-bar-footer">
            <div class="progress-info">
                <span>ความสุขของหมู่บ้าน:</span>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="villageHappinessFill" style="width: 0%;">0%</div>
                </div>
            </div>
            <button id="backToMapBtn" class="game-btn" style="display:none;">กลับไปที่แผนที่</button>
        </footer>
    </div>

    <script src="js/village_game_script.js"></script>
</body>
</html>