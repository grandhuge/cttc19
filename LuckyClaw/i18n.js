// (v24) I18n Service Module

// (v20) I18N String Database
const I18N_STRINGS = {
    'th': {
        'title.main': 'The Lucky Claw!',
        'subtitle.main': '‡∏ï‡∏π‡πâ‡∏Ñ‡∏µ‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•',
        'label.input': "‡∏Å‡∏£‡∏≠‡∏Å '‡∏Ç‡∏≠‡∏á' ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°:",
        'placeholder.input': "‡πÄ‡∏ä‡πà‡∏ô:\n‡∏™‡∏µ‡πÅ‡∏î‡∏á\n‡πÑ‡∏≠‡πÄ‡∏ó‡∏° A\n‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ 1\n‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏∞‡πÄ‡∏•...",
        'counter.items': (count) => `${count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏∏‡πà‡∏°!`,
        'status.loading': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏π‡πâ‡πÄ‡∏Å‡∏°...',
        'status.working': '‡∏ï‡∏π‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô...', // (v21) New
        'button.startGame': 'ü™ô ‡∏´‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç!',
        'button.grab': '‡∏Ñ‡∏µ‡∏ö!',
        'title.jackpot': 'üèÜ JACKPOT! üèÜ',
        'subtitle.youGot': '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏µ‡∏ö‡πÑ‡∏î‡πâ...',
        'remaining.count': (count) => `(‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏π‡πâ)`,
        'remaining.last': '‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢!',
        'button.accept': '‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å)',
        'button.cancel': '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å (‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ)',
        'button.startOver': '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
        'title.howToPlay': '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô',
        'help.1': '1. üéÆ **‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á** (‡∏õ‡∏∏‡πà‡∏°/‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î ‚óÄÔ∏è‚ñ∂Ô∏è) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏µ‡∏ö',
        'help.2': '2. üî¥ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **"‡∏Ñ‡∏µ‡∏ö!"** (‡∏´‡∏£‡∏∑‡∏≠ Spacebar) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°',
        'help.3': '3. üîµ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **"‡∏Å‡∏ß‡∏ô"** (‡∏´‡∏£‡∏∑‡∏≠ \'S\') ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏≠‡∏•',
        'button.gotIt': '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß!',
        'title.settings': '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
        'label.reduceMotion': '‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß (‡∏õ‡∏¥‡∏î‡∏™‡∏±‡πà‡∏ô, Confetti)',
        'label.bgm': '‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (BGM)',
        'label.sfx': '‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå (SFX)',
        'button.close': '‡∏õ‡∏¥‡∏î',
        'title.history': '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•',
        'history.empty': '<p class="text-gray-500 italic">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥...</p>',
        'title.remaining': '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠',
        'remaining.empty': '<p class="text-gray-500 italic">‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏π‡πâ...</p>',
        'error.empty': '‡∏ï‡∏π‡πâ‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á! (‡∏Å‡∏£‡∏≠‡∏Å 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ)',
        'error.limit': (max) => `‡∏ï‡∏π‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß! (‡∏à‡∏≥‡∏Å‡∏±‡∏î ${max} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)`,
        'error.noItems': '‡∏ï‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà',
        'feedback.miss': '‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏õ‡πâ‡∏≤!', // (v21) New
        
        // (v20) ARIA Labels
        'aria.history': '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•',
        'aria.remaining': '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠',
        'aria.toggleMute': '‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á',
        'aria.settings': '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
        'aria.moveLeft': '‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢',
        'aria.shuffle': '‡∏Å‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡∏ö‡∏≠‡∏•',
        'aria.moveRight': '‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏ß‡∏≤',
        'aria.resultsModal': '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå',
        'aria.howToPlayModal': '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô',
        'aria.settingsModal': '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
        'aria.historyModal': '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•',
        'aria.remainingModal': '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠',
    }
};

export class I18nService {
    constructor(lang = 'th') {
        this.lang = lang;
        this.strings = I18N_STRINGS;
    }

    getText(key, ...args) {
        const val = this.strings[this.lang][key];
        if (typeof val === 'function') {
            return val(...args);
        }
        return val || key;
    }
}