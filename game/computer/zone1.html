<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Kanit', sans-serif;
        }
        
        .drag-item {
            transition: all 0.3s ease;
            cursor: grab;
            position: relative;
            overflow: hidden;
        }
        
        .drag-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        .drag-item:active {
            cursor: grabbing;
            transform: scale(1.05) rotate(2deg);
        }
        
        .drag-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }
        
        .drag-item:hover::before {
            left: 100%;
        }
        
        .drop-zone {
            transition: all 0.3s ease;
            border: 3px dashed #cbd5e1;
            position: relative;
            overflow: hidden;
        }
        
        .drop-zone:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: #dbeafe;
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            animation: glow 1s ease-in-out infinite alternate;
        }
        
        .drop-zone.correct {
            border-color: #10b981;
            background-color: #d1fae5;
            animation: correctPulse 0.8s ease-in-out;
        }
        
        .drop-zone.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
            animation: shake 0.6s ease-in-out;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            to { box-shadow: 0 0 30px rgba(59, 130, 246, 0.8); }
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1.1) rotate(1deg); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(-8px) rotate(-2deg); }
            75% { transform: translateX(8px) rotate(2deg); }
        }
        
        .celebration {
            animation: bounce 0.8s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            25% { transform: translateY(-15px) scale(1.1); }
            50% { transform: translateY(-20px) scale(1.15); }
            75% { transform: translateY(-10px) scale(1.05); }
        }
        
        .game-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        
        .game-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }
        
        .device-icon {
            font-size: 4rem;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
            transition: all 0.3s ease;
        }
        
        .device-icon:hover {
            transform: scale(1.1) rotate(5deg);
            filter: drop-shadow(4px 4px 8px rgba(0,0,0,0.4));
        }
        
        .button-hover {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .button-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        .button-hover:active {
            transform: translateY(0);
            animation: buttonPress 0.1s ease-in-out;
        }
        
        @keyframes buttonPress {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }
        
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            animation: particle 1s ease-out forwards;
        }
        
        @keyframes particle {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--dx), var(--dy)) scale(0);
                opacity: 0;
            }
        }
        
        .score-popup {
            position: absolute;
            font-weight: bold;
            font-size: 1.5rem;
            color: #10b981;
            pointer-events: none;
            animation: scoreFloat 1s ease-out forwards;
            z-index: 100;
        }
        
        @keyframes scoreFloat {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) scale(1.2);
                opacity: 0;
            }
        }
        
        .combo-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            pointer-events: none;
            z-index: 1000;
            animation: comboShow 1s ease-out forwards;
        }
        
        @keyframes comboShow {
            0% {
                transform: translate(-50%, -50%) scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
                opacity: 0;
            }
        }
        
        .sound-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .sound-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        .landing-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .landing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        .landing-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s ease-in-out infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .page-transition {
            animation: slideIn 0.5s ease-out forwards;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .achievement-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #ffd700;
            color: #000;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 min-h-screen">
    <!-- Sound Toggle Button -->
    <button id="soundToggle" class="sound-toggle" title="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á">
        üîä
    </button>

    <!-- Back Button (Hidden on landing page) -->
    <button id="backButton" class="back-button hidden" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
        ‚¨ÖÔ∏è
    </button>

    <!-- Landing Page -->
    <div id="landingPage" class="container mx-auto px-4 max-w-6xl py-8">
        <!-- Header -->
        <div class="text-center mb-8 fade-in">
            <!-- Logo -->
            <div class="flex justify-center mb-6">
                <img src="https://cttc19.onrender.com/game/img/logo.png" 
                     alt="CTTC19 Logo" 
                     class="h-20 md:h-24 object-contain drop-shadow-lg"
                     onerror="this.style.display='none';">
            </div>
            
            <h1 class="text-5xl font-bold text-white mb-4">üéÆ ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</h1>
            <p class="text-2xl text-white/90 mb-2">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
            <p class="text-lg text-white/80">‡πÇ‡∏ã‡∏ô 1: ‡πÇ‡∏•‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå (Computer World - Level 1)</p>
            
            <!-- Mascot -->
            <div class="flex justify-center mt-6">
                <img src="https://cttc19.onrender.com/game/img/mascot.gif" 
                     alt="Mascot" 
                     class="h-16 md:h-20 object-contain drop-shadow-lg"
                     onerror="this.style.display='none';">
            </div>
        </div>

        <!-- Overall Stats Summary -->
        <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm mb-8 fade-in">
            <h3 class="text-2xl font-bold text-white mb-4 text-center">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div class="bg-yellow-400/20 rounded-lg p-4">
                    <div class="text-3xl mb-2">üèÜ</div>
                    <div class="text-sm text-white/80">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</div>
                    <div id="totalScore" class="text-2xl font-bold text-yellow-300">0</div>
                </div>
                <div class="bg-blue-400/20 rounded-lg p-4">
                    <div class="text-3xl mb-2">üéØ</div>
                    <div class="text-sm text-white/80">‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    <div id="totalGamesPlayed" class="text-2xl font-bold text-blue-300">0</div>
                </div>
                <div class="bg-green-400/20 rounded-lg p-4">
                    <div class="text-3xl mb-2">‚ö°</div>
                    <div class="text-sm text-white/80">‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏ß‡∏°</div>
                    <div id="totalTimeSpent" class="text-2xl font-bold text-green-300">00:00</div>
                </div>
                <div class="bg-purple-400/20 rounded-lg p-4">
                    <div class="text-3xl mb-2">üåü</div>
                    <div class="text-sm text-white/80">‡πÄ‡∏Å‡∏°‡πÇ‡∏õ‡∏£‡∏î</div>
                    <div id="favoriteGame" class="text-2xl font-bold text-purple-300">-</div>
                </div>
            </div>
        </div>

        <!-- Game Selection Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Game 1 Card -->
            <div class="landing-card p-6 text-center fade-in" onclick="selectGame(1)" style="animation-delay: 0.1s">
                <div class="relative">
                    <div class="text-5xl mb-3">üß≤</div>
                    <div id="game1Badge" class="achievement-badge hidden">üèÜ</div>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h3>
                <p class="text-white/90 mb-3 text-sm">‡∏•‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏õ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏û</p>
                <div class="bg-white/20 rounded-lg p-3 mb-3 text-xs text-left">
                    <div class="font-semibold text-white mb-1">üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</div>
                    <div class="text-white/90 space-y-1">
                        <div>‚Ä¢ ‡∏•‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ö‡∏ô‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô</div>
                        <div>‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏´‡∏±‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        <div>‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏ö‡∏ô‡∏±‡∏™ Combo</div>
                        <div>‚Ä¢ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡πá‡∏ß‡πÑ‡∏î‡πâ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏ß‡∏•‡∏≤</div>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-bar mb-3">
                    <div id="game1Progress" class="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="bg-white/20 rounded-lg p-2 text-xs">
                    <div class="flex justify-between mb-1">
                        <span>üèÜ ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</span>
                        <span id="game1BestScore" class="font-bold">0</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>‚è±Ô∏è ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î:</span>
                        <span id="game1BestTime" class="font-bold">--:--</span>
                    </div>
                    <div class="flex justify-between">
                        <span>üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß:</span>
                        <span id="game1Total" class="font-bold">0 ‡∏£‡∏≠‡∏ö</span>
                    </div>
                </div>
                
                <div class="mt-3">
                    <span class="inline-block bg-blue-500/30 text-white px-2 py-1 rounded-full text-xs mr-1">‡∏á‡πà‡∏≤‡∏¢</span>
                    <span class="inline-block bg-green-500/30 text-white px-2 py-1 rounded-full text-xs">‡∏™‡∏ô‡∏∏‡∏Å</span>
                </div>
            </div>

            <!-- Game 2 Card -->
            <div class="landing-card p-6 text-center fade-in" onclick="selectGame(2)" style="animation-delay: 0.2s">
                <div class="relative">
                    <div class="text-5xl mb-3">üß†</div>
                    <div id="game2Badge" class="achievement-badge hidden">üèÜ</div>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå</h3>
                <p class="text-white/90 mb-3 text-sm">‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</p>
                <div class="bg-white/20 rounded-lg p-3 mb-3 text-xs text-left">
                    <div class="font-semibold text-white mb-1">üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</div>
                    <div class="text-white/90 space-y-1">
                        <div>‚Ä¢ ‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</div>
                        <div>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å 4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
                        <div>‚Ä¢ ‡∏°‡∏µ 5 ‡∏Ç‡πâ‡∏≠ ‡∏Ç‡πâ‡∏≠‡∏•‡∏∞ 10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        <div>‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏° 50</div>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-bar mb-3">
                    <div id="game2Progress" class="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="bg-white/20 rounded-lg p-2 text-xs">
                    <div class="flex justify-between mb-1">
                        <span>üèÜ ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</span>
                        <span id="game2BestScore" class="font-bold">0</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>‚è±Ô∏è ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î:</span>
                        <span id="game2BestTime" class="font-bold">--:--</span>
                    </div>
                    <div class="flex justify-between">
                        <span>üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß:</span>
                        <span id="game2Total" class="font-bold">0 ‡∏£‡∏≠‡∏ö</span>
                    </div>
                </div>
                
                <div class="mt-3">
                    <span class="inline-block bg-yellow-500/30 text-white px-2 py-1 rounded-full text-xs mr-1">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
                    <span class="inline-block bg-purple-500/30 text-white px-2 py-1 rounded-full text-xs">‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢</span>
                </div>
            </div>

            <!-- Game 3 Card - ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
            <div class="landing-card p-6 text-center fade-in" onclick="selectGame(3)" style="animation-delay: 0.3s">
                <div class="relative">
                    <div class="text-5xl mb-3">üöÄ</div>
                    <div id="game3Badge" class="achievement-badge hidden">üèÜ</div>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°</h3>
                <p class="text-white/90 mb-3 text-sm">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                <div class="bg-white/20 rounded-lg p-3 mb-3 text-xs text-left">
                    <div class="font-semibold text-white mb-1">üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</div>
                    <div class="text-white/90 space-y-1">
                        <div>‚Ä¢ ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö</div>
                        <div>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡πÑ‡∏õ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</div>
                        <div>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å 3 ‡πÅ‡∏ö‡∏ö</div>
                        <div>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°</div>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-bar mb-3">
                    <div id="game3Progress" class="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="bg-white/20 rounded-lg p-2 text-xs">
                    <div class="flex justify-between mb-1">
                        <span>üèÜ ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</span>
                        <span id="game3BestScore" class="font-bold">0</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>‚è±Ô∏è ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î:</span>
                        <span id="game3BestTime" class="font-bold">--:--</span>
                    </div>
                    <div class="flex justify-between">
                        <span>üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß:</span>
                        <span id="game3Total" class="font-bold">0 ‡∏£‡∏≠‡∏ö</span>
                    </div>
                </div>
                
                <div class="mt-3">
                    <span class="inline-block bg-green-500/30 text-white px-2 py-1 rounded-full text-xs mr-1">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
                    <span class="inline-block bg-blue-500/30 text-white px-2 py-1 rounded-full text-xs">‡∏•‡∏≥‡∏î‡∏±‡∏ö</span>
                </div>
            </div>

            <!-- Game 4 Card - ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
            <div class="landing-card p-6 text-center fade-in" onclick="selectGame(4)" style="animation-delay: 0.4s">
                <div class="relative">
                    <div class="text-5xl mb-3">üåô</div>
                    <div id="game4Badge" class="achievement-badge hidden">üèÜ</div>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°</h3>
                <p class="text-white/90 mb-3 text-sm">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>
                <div class="bg-white/20 rounded-lg p-3 mb-3 text-xs text-left">
                    <div class="font-semibold text-white mb-1">üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</div>
                    <div class="text-white/90 space-y-1">
                        <div>‚Ä¢ ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö</div>
                        <div>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
                        <div>‚Ä¢ ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                        <div>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°</div>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-bar mb-3">
                    <div id="game4Progress" class="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="bg-white/20 rounded-lg p-2 text-xs">
                    <div class="flex justify-between mb-1">
                        <span>üèÜ ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</span>
                        <span id="game4BestScore" class="font-bold">0</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>‚è±Ô∏è ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î:</span>
                        <span id="game4BestTime" class="font-bold">--:--</span>
                    </div>
                    <div class="flex justify-between">
                        <span>üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß:</span>
                        <span id="game4Total" class="font-bold">0 ‡∏£‡∏≠‡∏ö</span>
                    </div>
                </div>
                
                <div class="mt-3">
                    <span class="inline-block bg-orange-500/30 text-white px-2 py-1 rounded-full text-xs mr-1">‡∏¢‡∏≤‡∏Å</span>
                    <span class="inline-block bg-red-500/30 text-white px-2 py-1 rounded-full text-xs">‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</span>
                </div>
            </div>
        </div>

        <!-- Recent Games History -->
        <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm fade-in" style="animation-delay: 0.4s">
            <h3 class="text-xl font-bold text-white mb-4 text-center">üìà ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
            <div id="recentGames" class="space-y-2 max-h-60 overflow-y-auto">
                <p class="text-white/70 text-center">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</p>
            </div>
            <div class="text-center mt-4">
                <button id="clearHistory" class="button-hover bg-red-500/20 hover:bg-red-500/30 text-white font-semibold px-4 py-2 rounded-full transition-all">
                    üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
                </button>
                <button id="clearAllStats" class="button-hover bg-orange-500/20 hover:bg-orange-500/30 text-white font-semibold px-4 py-2 rounded-full ml-2 transition-all">
                    üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </button>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="text-center mt-12 pt-8 border-t border-white/20 fade-in" style="animation-delay: 0.5s">
            <p class="text-white/70 text-sm">
                ¬© developed by Tle Narongphisit | CTTC19 @ CPD
            </p>
        </div>
    </div>

    <!-- Game 1: Drag & Drop -->
    <div id="game1" class="hidden page-transition">
        <div class="container mx-auto px-4 max-w-6xl py-8">
            <div class="game-card p-8">
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-white mb-2">üß≤ ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 1: ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h2>
                    <p class="text-white/90 text-lg">‡∏•‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏û</p>
                    <div class="bg-blue-100 rounded-lg p-4 mt-4 text-left max-w-4xl mx-auto">
                        <div class="text-blue-800 font-semibold mb-2">üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô:</div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-700">
                            <div>üñ±Ô∏è <strong>‡πÄ‡∏°‡∏≤‡∏™‡πå:</strong> ‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</div>
                            <div>‚å®Ô∏è <strong>‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î:</strong> ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</div>
                            <div>üñ•Ô∏è <strong>‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå:</strong> ‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</div>
                            <div>üíª <strong>‡∏ã‡∏µ‡∏û‡∏µ‡∏¢‡∏π:</strong> ‡∏™‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</div>
                        </div>
                    </div>
                    <div class="flex justify-center items-center gap-4 mt-4 flex-wrap">
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: </span>
                            <span id="score" class="text-yellow-300 font-bold text-xl">0</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡πÄ‡∏ß‡∏•‡∏≤: </span>
                            <span id="timer" class="text-green-300 font-bold text-xl">00:00</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏£‡∏∞‡∏î‡∏±‡∏ö: </span>
                            <select id="difficulty" class="bg-transparent text-white font-bold">
                                <option value="easy" class="text-black">‡∏á‡πà‡∏≤‡∏¢</option>
                                <option value="medium" class="text-black">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                <option value="hard" class="text-black">‡∏¢‡∏≤‡∏Å</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Game Area -->
                <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
                    <!-- Device Images -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                        <div class="drop-zone bg-white rounded-xl p-4 text-center min-h-[150px] flex flex-col items-center justify-center" data-device="mouse">
                            <div class="device-icon">üñ±Ô∏è</div>
                            <div class="device-name text-gray-600 font-semibold mt-2 hidden">‡πÄ‡∏°‡∏≤‡∏™‡πå</div>
                            <div class="hint text-sm text-gray-500 mt-1 hidden">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å</div>
                        </div>
                        
                        <div class="drop-zone bg-white rounded-xl p-4 text-center min-h-[150px] flex flex-col items-center justify-center" data-device="keyboard">
                            <div class="device-icon">‚å®Ô∏è</div>
                            <div class="device-name text-gray-600 font-semibold mt-2 hidden">‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î</div>
                            <div class="hint text-sm text-gray-500 mt-1 hidden">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</div>
                        </div>
                        
                        <div class="drop-zone bg-white rounded-xl p-4 text-center min-h-[150px] flex flex-col items-center justify-center" data-device="monitor">
                            <div class="device-icon">üñ•Ô∏è</div>
                            <div class="device-name text-gray-600 font-semibold mt-2 hidden">‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå</div>
                            <div class="hint text-sm text-gray-500 mt-1 hidden">‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</div>
                        </div>
                        
                        <div class="drop-zone bg-white rounded-xl p-4 text-center min-h-[150px] flex flex-col items-center justify-center" data-device="cpu">
                            <div class="device-icon">üíª</div>
                            <div class="device-name text-gray-600 font-semibold mt-2 hidden">‡∏ã‡∏µ‡∏û‡∏µ‡∏¢‡∏π</div>
                            <div class="hint text-sm text-gray-500 mt-1 hidden">‡∏™‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</div>
                        </div>
                    </div>

                    <!-- Draggable Names -->
                    <div class="border-t-2 border-white/30 pt-6">
                        <h3 class="text-white text-xl font-semibold mb-4 text-center">üè∑Ô∏è ‡∏•‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ</h3>
                        <div id="dragItems" class="flex flex-wrap justify-center gap-4">
                            <div class="drag-item bg-yellow-400 hover:bg-yellow-300 text-black font-semibold px-6 py-3 rounded-full shadow-lg" draggable="true" data-device="mouse">
                                üñ±Ô∏è ‡πÄ‡∏°‡∏≤‡∏™‡πå
                            </div>
                            <div class="drag-item bg-green-400 hover:bg-green-300 text-black font-semibold px-6 py-3 rounded-full shadow-lg" draggable="true" data-device="keyboard">
                                ‚å®Ô∏è ‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î
                            </div>
                            <div class="drag-item bg-blue-400 hover:bg-blue-300 text-black font-semibold px-6 py-3 rounded-full shadow-lg" draggable="true" data-device="monitor">
                                üñ•Ô∏è ‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå
                            </div>
                            <div class="drag-item bg-purple-400 hover:bg-purple-300 text-black font-semibold px-6 py-3 rounded-full shadow-lg" draggable="true" data-device="cpu">
                                üíª ‡∏ã‡∏µ‡∏û‡∏µ‡∏¢‡∏π
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Control Buttons -->
                <div class="text-center mt-6">
                    <button id="resetGame" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full mr-4 transition-all">
                        üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <button id="showHints" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full mr-4 transition-all">
                        üí° ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ
                    </button>
                    <button id="showStats" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full transition-all">
                        üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Game 2: Hardware Hero Quiz -->
    <div id="game2" class="hidden page-transition">
        <div class="container mx-auto px-4 max-w-6xl py-8">
            <div class="game-card p-8">
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-white mb-2">üß† ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå</h2>
                    <p class="text-white/90 text-lg">‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</p>
                    <div class="bg-green-100 rounded-lg p-4 mt-4 text-left max-w-4xl mx-auto">
                        <div class="text-green-800 font-semibold mb-2">üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:</div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-green-700">
                            <div>üìö <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ:</strong> ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</div>
                            <div>üß† <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à:</strong> ‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</div>
                            <div>‚ö° <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß:</strong> ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</div>
                            <div>üèÜ <strong>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:</strong> ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ 50 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        </div>
                    </div>
                    <div class="flex justify-center items-center gap-4 mt-4 flex-wrap">
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: </span>
                            <span id="quizScore" class="text-yellow-300 font-bold text-xl">0</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡πÄ‡∏ß‡∏•‡∏≤: </span>
                            <span id="quizTimer" class="text-green-300 font-bold text-xl">00:00</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà: </span>
                            <span id="questionNumber" class="text-blue-300 font-bold text-xl">1/5</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
                    <div id="quizContainer" class="text-center">
                        <div class="text-6xl mb-4" id="questionIcon">üñ±Ô∏è</div>
                        <h3 class="text-2xl font-bold text-white mb-6" id="questionText">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto">
                            <button class="quiz-option button-hover bg-blue-500 hover:bg-blue-600 text-white font-semibold p-4 rounded-xl transition-all" data-answer="0">
                                <span class="option-text">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å</span>
                            </button>
                            <button class="quiz-option button-hover bg-green-500 hover:bg-green-600 text-white font-semibold p-4 rounded-xl transition-all" data-answer="1">
                                <span class="option-text">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</span>
                            </button>
                            <button class="quiz-option button-hover bg-purple-500 hover:bg-purple-600 text-white font-semibold p-4 rounded-xl transition-all" data-answer="2">
                                <span class="option-text">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û</span>
                            </button>
                            <button class="quiz-option button-hover bg-red-500 hover:bg-red-600 text-white font-semibold p-4 rounded-xl transition-all" data-answer="3">
                                <span class="option-text">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</span>
                            </button>
                        </div>
                    </div>

                    <div id="quizResult" class="text-center mt-6 hidden">
                        <div class="text-4xl mb-4" id="resultIcon">üéâ</div>
                        <h3 class="text-2xl font-bold text-white mb-4" id="resultText">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h3>
                        <div class="bg-white/20 rounded-lg p-4 mb-4">
                            <p class="text-white font-semibold">üèÜ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span id="quizFinalScore">0</span>/50</p>
                            <p class="text-white">‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: <span id="quizFinalTime">00:00</span></p>
                        </div>
                        <button id="restartQuiz" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full transition-all">
                            üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game 3: Computer Startup Sequence -->
    <div id="game3" class="hidden page-transition">
        <div class="container mx-auto px-4 max-w-6xl py-8">
            <div class="game-card p-8">
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-white mb-2">üöÄ ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</h2>
                    <p class="text-white/90 text-lg">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                    <div class="flex justify-center items-center gap-4 mt-4 flex-wrap">
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: </span>
                            <span id="sequenceScore" class="text-yellow-300 font-bold text-xl">0</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡πÄ‡∏ß‡∏•‡∏≤: </span>
                            <span id="sequenceTimer" class="text-green-300 font-bold text-xl">00:00</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏£‡∏∞‡∏î‡∏±‡∏ö: </span>
                            <select id="startupDifficulty" class="bg-gray-800 text-white font-bold px-2 py-1 rounded border-none outline-none cursor-pointer">
                                <option value="basic" class="bg-gray-800 text-white">üü¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</option>
                                <option value="detailed" class="bg-gray-800 text-white">üü° ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</option>
                                <option value="advanced" class="bg-gray-800 text-white">üî¥ ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold text-white mb-4">üéØ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</h3>
                        <div class="bg-green-100 rounded-lg p-4 mb-4">
                            <p class="text-green-800 font-semibold">üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô: ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                            <div class="mt-2 text-sm text-green-700">
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-2 mt-2">
                                    <div>üü¢ <strong>‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</div>
                                    <div>üü° <strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô</div>
                                    <div>üî¥ <strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Drop Zones for Sequence -->
                    <div id="startupDropZones" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                        <!-- Drop zones will be populated by JavaScript -->
                    </div>

                    <!-- Draggable Steps -->
                    <div class="border-t-2 border-white/30 pt-6">
                        <h3 class="text-white text-xl font-semibold mb-4 text-center">üìã ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ</h3>
                        <div id="startupSteps" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Steps will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="text-center mt-6">
                        <button id="checkStartupSequence" class="button-hover bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full mr-4 transition-all">
                            ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                        </button>
                        <button id="resetStartupSequence" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full transition-all">
                            üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game 4: Computer Shutdown Sequence -->
    <div id="game4" class="hidden page-transition">
        <div class="container mx-auto px-4 max-w-6xl py-8">
            <div class="game-card p-8">
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-white mb-2">üåô ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 4: ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</h2>
                    <p class="text-white/90 text-lg">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>
                    <div class="flex justify-center items-center gap-4 mt-4 flex-wrap">
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: </span>
                            <span id="shutdownScore" class="text-yellow-300 font-bold text-xl">0</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡πÄ‡∏ß‡∏•‡∏≤: </span>
                            <span id="shutdownTimer" class="text-green-300 font-bold text-xl">00:00</span>
                        </div>
                        <div class="bg-white/20 rounded-lg px-4 py-2">
                            <span class="text-white font-semibold">‡∏£‡∏∞‡∏î‡∏±‡∏ö: </span>
                            <select id="shutdownDifficulty" class="bg-gray-800 text-white font-bold px-2 py-1 rounded border-none outline-none cursor-pointer">
                                <option value="basic" class="bg-gray-800 text-white">üü¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</option>
                                <option value="safe" class="bg-gray-800 text-white">üü° ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</option>
                                <option value="complete" class="bg-gray-800 text-white">üî¥ ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold text-white mb-4">üéØ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</h3>
                        <div class="bg-blue-100 rounded-lg p-4 mb-4">
                            <p class="text-blue-800 font-semibold">üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô: ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                            <div class="mt-2 text-sm text-blue-700">
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-2 mt-2">
                                    <div>üü¢ <strong>‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</div>
                                    <div>üü° <strong>‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</div>
                                    <div>üî¥ <strong>‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:</strong> ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Drop Zones for Sequence -->
                    <div id="shutdownDropZones" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                        <!-- Drop zones will be populated by JavaScript -->
                    </div>

                    <!-- Draggable Steps -->
                    <div class="border-t-2 border-white/30 pt-6">
                        <h3 class="text-white text-xl font-semibold mb-4 text-center">üìã ‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ</h3>
                        <div id="shutdownSteps" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Steps will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="text-center mt-6">
                        <button id="checkShutdownSequence" class="button-hover bg-blue-500 hover:bg-blue-600 text-white font-semibold px-6 py-3 rounded-full mr-4 transition-all">
                            ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                        </button>
                        <button id="resetShutdownSequence" class="button-hover bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full transition-all">
                            üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Result Modal -->
    <div id="gameResultModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4 text-center">
            <div id="resultModalIcon" class="text-6xl mb-4">üéâ</div>
            <h3 id="resultModalTitle" class="text-2xl font-bold text-gray-800 mb-2">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h3>
            <p id="resultModalMessage" class="text-gray-600 mb-4">‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
            
            <!-- Current Round Summary -->
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4 border-2 border-blue-200">
                <h4 class="text-lg font-bold text-gray-800 mb-3">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ</h4>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div class="bg-white/70 rounded-lg p-3">
                        <div class="text-2xl mb-1">üèÜ</div>
                        <div class="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</div>
                        <div id="currentBaseScore" class="text-xl font-bold text-blue-600">0</div>
                    </div>
                    <div class="bg-white/70 rounded-lg p-3">
                        <div class="text-2xl mb-1">‚ö°</div>
                        <div class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏ß‡∏•‡∏≤</div>
                        <div id="currentTimeBonus" class="text-xl font-bold text-green-600">+0</div>
                    </div>
                    <div class="bg-white/70 rounded-lg p-3">
                        <div class="text-2xl mb-1">üéØ</div>
                        <div class="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</div>
                        <div id="currentTotalScore" class="text-xl font-bold text-purple-600">0</div>
                    </div>
                    <div class="bg-white/70 rounded-lg p-3">
                        <div class="text-2xl mb-1">‚è±Ô∏è</div>
                        <div class="text-gray-600">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</div>
                        <div id="currentGameTime" class="text-xl font-bold text-orange-600">00:00</div>
                    </div>
                </div>
            </div>

            <!-- Achievement & Records -->
            <div class="bg-yellow-50 rounded-lg p-4 mb-4 border-2 border-yellow-200">
                <div id="newRecord" class="text-green-800 font-bold mb-2 hidden">
                    üåü ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏´‡∏°‡πà! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!
                </div>
                <div id="achievementText" class="text-yellow-800 font-semibold">
                    üéñÔ∏è ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ‡πÄ‡∏î‡πà‡∏ô"
                </div>
                <div id="encouragementText" class="text-gray-600 text-sm mt-2">
                    ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß
                </div>
            </div>

            <!-- Overall Stats Comparison -->
            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                <h4 class="text-md font-bold text-gray-700 mb-2">üìà ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h4>
                <div class="grid grid-cols-3 gap-2 text-xs">
                    <div class="text-center">
                        <div class="text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div>
                        <div id="bestScoreComparison" class="font-bold text-blue-600">0</div>
                    </div>
                    <div class="text-center">
                        <div class="text-gray-500">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î</div>
                        <div id="bestTimeComparison" class="font-bold text-green-600">--:--</div>
                    </div>
                    <div class="text-center">
                        <div class="text-gray-500">‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                        <div id="totalGamesComparison" class="font-bold text-purple-600">0</div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-3 justify-center flex-wrap">
                <button id="playAgainButton" class="button-hover bg-blue-500 hover:bg-blue-600 text-white font-semibold px-6 py-3 rounded-full transition-all">
                    üéÆ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                </button>
                <button id="tryOtherGameButton" class="button-hover bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full transition-all">
                    üéØ ‡∏•‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏≠‡∏∑‡πà‡∏ô
                </button>
                <button id="backToHomeButton" class="button-hover bg-purple-500 hover:bg-purple-600 text-white font-semibold px-6 py-3 rounded-full transition-all">
                    üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                </button>
            </div>
        </div>
    </div>

    <!-- Stats Modal -->
    <div id="statsModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4 text-center">
            <div class="text-4xl mb-4">üìä</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-4">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-lg p-4">
                    <div class="text-2xl mb-2">üèÜ</div>
                    <div class="text-sm text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div>
                    <div id="bestScore" class="text-xl font-bold text-yellow-800">0</div>
                </div>
                
                <div class="bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg p-4">
                    <div class="text-2xl mb-2">‚ö°</div>
                    <div class="text-sm text-gray-600">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î</div>
                    <div id="bestTime" class="text-xl font-bold text-blue-800">--:--</div>
                </div>
                
                <div class="bg-gradient-to-br from-green-100 to-green-200 rounded-lg p-4">
                    <div class="text-2xl mb-2">üéÆ</div>
                    <div class="text-sm text-gray-600">‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    <div id="totalGames" class="text-xl font-bold text-green-800">0</div>
                </div>
            </div>

            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                <h4 class="font-semibold text-gray-700 mb-2">üéØ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between">
                        <span>‡∏á‡πà‡∏≤‡∏¢:</span>
                        <span id="easyStats" class="font-semibold">0 ‡πÄ‡∏Å‡∏°</span>
                    </div>
                    <div class="flex justify-between">
                        <span>‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á:</span>
                        <span id="mediumStats" class="font-semibold">0 ‡πÄ‡∏Å‡∏°</span>
                    </div>
                    <div class="flex justify-between">
                        <span>‡∏¢‡∏≤‡∏Å:</span>
                        <span id="hardStats" class="font-semibold">0 ‡πÄ‡∏Å‡∏°</span>
                    </div>
                </div>
            </div>

            <div class="flex gap-4 justify-center">
                <button id="clearStats" class="button-hover bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded-full transition-all">
                    üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
                </button>
                <button id="closeStats" class="button-hover bg-gray-500 hover:bg-gray-600 text-white font-semibold px-6 py-2 rounded-full transition-all">
                    ‡∏õ‡∏¥‡∏î
                </button>
            </div>
        </div>
    </div>

    <script>
        let score = 0;
        let correctAnswers = 0;
        let totalItems = 4;
        let wrongAttempts = {};
        let soundEnabled = true;
        let comboCount = 0;
        let lastCorrectTime = 0;
        let gameStartTime = 0;
        let gameTimer = null;
        let currentGameTime = 0;
        let currentGame = 1;
        let currentPage = 'landing'; // Track current page
        
        // Quiz Game Variables
        let quizScore = 0;
        let currentQuestion = 0;
        let quizStartTime = 0;
        let quizTimer = null;
        let quizGameTime = 0;
        
        // Sequence Game Variables
        let sequenceScore = 0;
        let sequenceStartTime = 0;
        let sequenceTimer = null;
        let sequenceGameTime = 0;
        let droppedSequence = [];
        
        // Shutdown Game Variables
        let shutdownScore = 0;
        let shutdownStartTime = 0;
        let shutdownTimer = null;
        let shutdownGameTime = 0;
        let droppedShutdownSequence = [];
        
        // Game statistics
        let gameStats = {
            game1: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
            game2: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
            game3: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
            game4: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
            difficultyStats: {
                easy: 0,
                medium: 0,
                hard: 0
            },
            gameHistory: []
        };

        // Quiz Questions Data
        const quizQuestions = [
            {
                icon: "üñ±Ô∏è",
                question: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?",
                options: ["‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å", "‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£", "‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û", "‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•"],
                correct: 0
            },
            {
                icon: "‚å®Ô∏è",
                question: "‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£?",
                options: ["‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç", "‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï"],
                correct: 1
            },
            {
                icon: "üñ•Ô∏è",
                question: "‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£?",
                options: ["‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå", "‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°", "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢"],
                correct: 2
            },
            {
                icon: "üíª",
                question: "CPU ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?",
                options: ["‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥", "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•", "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏•‡∏≤‡∏á"],
                correct: 3
            },
            {
                icon: "üîå",
                question: "‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
                options: ["‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°", "‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏õ‡∏•‡∏±‡πä‡∏Å‡πÑ‡∏ü", "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï", "‡πÉ‡∏™‡πà‡πÅ‡∏ú‡πà‡∏ô CD"],
                correct: 1
            }
        ];

        // Startup Sequence Steps Data
        const startupSequenceSteps = {
            basic: [
                { id: 0, text: "‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏õ‡∏•‡∏±‡πä‡∏Å‡πÑ‡∏ü", icon: "üîå", detail: "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏ï‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö" },
                { id: 1, text: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á", icon: "‚ö°", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Power ‡∏ö‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á" },
                { id: 2, text: "‡∏£‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏•‡∏î", icon: "‚è≥", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" },
                { id: 3, text: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å", icon: "üñ•Ô∏è", detail: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå" }
            ],
            detailed: [
                { id: 0, text: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡πÑ‡∏ü", icon: "üîç", detail: "‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏π‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà" },
                { id: 1, text: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö", icon: "üîå", detail: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü" },
                { id: 2, text: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Power", icon: "‚ö°", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á" },
                { id: 3, text: "‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå", icon: "üñ•Ô∏è", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå" },
                { id: 4, text: "‡∏£‡∏≠ BIOS ‡πÇ‡∏´‡∏•‡∏î", icon: "‚è≥", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö BIOS ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" },
                { id: 5, text: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£", icon: "üíª", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ Windows ‡∏´‡∏£‡∏∑‡∏≠ OS ‡πÇ‡∏´‡∏•‡∏î" }
            ],
            advanced: [
                { id: 0, text: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠", icon: "üîç", detail: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≤‡∏¢‡πÑ‡∏ü ‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î ‡πÄ‡∏°‡∏≤‡∏™‡πå" },
                { id: 1, text: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå PSU", icon: "üîå", detail: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà Power Supply" },
                { id: 2, text: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡πÄ‡∏ï‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö", icon: "‚ö°", detail: "‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü" },
                { id: 3, text: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Power", icon: "üíª", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏™" },
                { id: 4, text: "‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå", icon: "üñ•Ô∏è", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå" },
                { id: 5, text: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö POST", icon: "‚è≥", detail: "‡∏î‡∏π Power-On Self Test" },
                { id: 6, text: "‡πÇ‡∏´‡∏•‡∏î BIOS/UEFI", icon: "üõ†Ô∏è", detail: "‡∏£‡∏∞‡∏ö‡∏ö BIOS ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" },
                { id: 7, text: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£", icon: "üè†", detail: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ Desktop" }
            ]
        };

        // Shutdown Sequence Steps Data
        const shutdownSequenceSteps = {
            basic: [
                { id: 0, text: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", icon: "üíæ", detail: "Save ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà" },
                { id: 1, text: "‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", icon: "‚ùå", detail: "‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà" },
                { id: 2, text: "‡∏Ñ‡∏•‡∏¥‡∏Å Shutdown", icon: "üîÑ", detail: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Shut down ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π Start" },
                { id: 3, text: "‡∏£‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏¥‡∏î‡∏™‡∏ô‡∏¥‡∏ó", icon: "üåô", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏î‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" }
            ],
            safe: [
                { id: 0, text: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", icon: "üíæ", detail: "Save ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" },
                { id: 1, text: "‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß", icon: "‚ùå", detail: "‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á" },
                { id: 2, text: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å", icon: "üîç", detail: "‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Save ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà" },
                { id: 3, text: "‡∏Ñ‡∏•‡∏¥‡∏Å Start Menu", icon: "üè†", detail: "‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° Start ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏á" },
                { id: 4, text: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Shut down", icon: "üîÑ", detail: "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Shut down ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π" },
                { id: 5, text: "‡∏£‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß", icon: "üåô", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå" }
            ],
            complete: [
                { id: 0, text: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", icon: "üíæ", detail: "Save ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" },
                { id: 1, text: "‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß", icon: "‚ùå", detail: "‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á" },
                { id: 2, text: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Background Apps", icon: "üîç", detail: "‡∏î‡∏π‡πÅ‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á" },
                { id: 3, text: "‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢", icon: "üì°", detail: "‡∏ï‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Internet ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢" },
                { id: 4, text: "‡∏Ñ‡∏•‡∏¥‡∏Å Start Menu", icon: "üè†", detail: "‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° Start ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏á" },
                { id: 5, text: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Shut down", icon: "üîÑ", detail: "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Shut down ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π" },
                { id: 6, text: "‡∏£‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß", icon: "‚è≥", detail: "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå" },
                { id: 7, text: "‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå", icon: "üåô", detail: "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß" }
            ]
        };

        // Page Navigation Functions
        function showLandingPage() {
            currentPage = 'landing';
            document.getElementById('landingPage').classList.remove('hidden');
            document.getElementById('game1').classList.add('hidden');
            document.getElementById('game2').classList.add('hidden');
            document.getElementById('game3').classList.add('hidden');
            document.getElementById('game4').classList.add('hidden');
            document.getElementById('backButton').classList.add('hidden');
            
            // Stop all timers
            stopAllTimers();
            
            // Update stats display
            updateMainPageStats();
            updateGameHistory();
            updateProgressBars();
            updateAchievementBadges();
            
            playButtonSound();
        }

        function selectGame(gameNumber) {
            currentPage = `game${gameNumber}`;
            currentGame = gameNumber;
            
            // Hide landing page
            document.getElementById('landingPage').classList.add('hidden');
            
            // Hide all games first
            document.getElementById('game1').classList.add('hidden');
            document.getElementById('game2').classList.add('hidden');
            document.getElementById('game3').classList.add('hidden');
            document.getElementById('game4').classList.add('hidden');
            
            // Show selected game
            document.getElementById(`game${gameNumber}`).classList.remove('hidden');
            document.getElementById('backButton').classList.remove('hidden');
            
            // Stop all timers
            stopAllTimers();
            
            // Initialize specific game
            if (gameNumber === 1) {
                resetGame();
            } else if (gameNumber === 2) {
                initQuizGame();
            } else if (gameNumber === 3) {
                initStartupGame();
            } else if (gameNumber === 4) {
                initShutdownGame();
            }
            
            playButtonSound();
            const gameNames = ['', '‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå', '‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå', '‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°', '‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°'];
            showFeedback(`üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°${gameNames[gameNumber]}!`, 'success');
        }

        function updateProgressBars() {
            // Calculate progress based on games played
            const maxGames = 10; // Consider 10 games as 100% progress
            
            const game1Progress = Math.min((gameStats.game1.totalGames / maxGames) * 100, 100);
            const game2Progress = Math.min((gameStats.game2.totalGames / maxGames) * 100, 100);
            const game3Progress = Math.min((gameStats.game3.totalGames / maxGames) * 100, 100);
            const game4Progress = Math.min((gameStats.game4.totalGames / maxGames) * 100, 100);
            
            document.getElementById('game1Progress').style.width = `${game1Progress}%`;
            document.getElementById('game2Progress').style.width = `${game2Progress}%`;
            document.getElementById('game3Progress').style.width = `${game3Progress}%`;
            document.getElementById('game4Progress').style.width = `${game4Progress}%`;
        }

        function updateAchievementBadges() {
            // Show badges for high achievers
            if (gameStats.game1.bestScore >= 50) {
                document.getElementById('game1Badge').classList.remove('hidden');
            }
            if (gameStats.game2.bestScore >= 40) {
                document.getElementById('game2Badge').classList.remove('hidden');
            }
            if (gameStats.game3.bestScore >= 80) {
                document.getElementById('game3Badge').classList.remove('hidden');
            }
            if (gameStats.game4.bestScore >= 80) {
                document.getElementById('game4Badge').classList.remove('hidden');
            }
        }

        // Load stats from localStorage
        function loadStats() {
            const saved = localStorage.getItem('computerGameStats');
            if (saved) {
                try {
                    gameStats = { ...gameStats, ...JSON.parse(saved) };
                } catch (e) {
                    console.error('Error loading stats:', e);
                    // Reset stats if corrupted
                    gameStats = {
                        game1: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                        game2: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                        game3: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                        game4: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                        difficultyStats: { easy: 0, medium: 0, hard: 0 },
                        gameHistory: []
                    };
                }
            }
        }

        // Save stats to localStorage
        function saveStats() {
            try {
                // Validate data before saving
                if (!gameStats || typeof gameStats !== 'object') {
                    console.warn('Invalid game stats data, skipping save');
                    return;
                }
                
                const dataToSave = JSON.stringify(gameStats);
                if (dataToSave.length > 1024 * 1024) { // 1MB limit
                    console.warn('Game stats data too large, truncating history');
                    gameStats.gameHistory = gameStats.gameHistory.slice(0, 10);
                }
                
                localStorage.setItem('computerGameStats', JSON.stringify(gameStats));
            } catch (e) {
                console.error('Error saving stats:', e);
                if (e.name === 'QuotaExceededError') {
                    // Clear old data if storage is full
                    gameStats.gameHistory = [];
                    try {
                        localStorage.setItem('computerGameStats', JSON.stringify(gameStats));
                    } catch (e2) {
                        console.error('Failed to save even after clearing history:', e2);
                    }
                }
            }
        }

        // Timer functions
        function startTimer() {
            gameStartTime = Date.now();
            gameTimer = setInterval(updateTimer, 100);
        }

        function stopTimer() {
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }
        }

        function updateTimer() {
            currentGameTime = Date.now() - gameStartTime;
            const seconds = Math.floor(currentGameTime / 1000);
            const minutes = Math.floor(seconds / 60);
            const displaySeconds = seconds % 60;
            const displayTime = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
            document.getElementById('timer').textContent = displayTime;
        }

        function formatTime(milliseconds) {
            if (!milliseconds) return '--:--';
            const seconds = Math.floor(milliseconds / 1000);
            const minutes = Math.floor(seconds / 60);
            const displaySeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
        }

        function stopAllTimers() {
            if (gameTimer) clearInterval(gameTimer);
            if (quizTimer) clearInterval(quizTimer);
            if (sequenceTimer) clearInterval(sequenceTimer);
            if (shutdownTimer) clearInterval(shutdownTimer);
            gameTimer = quizTimer = sequenceTimer = shutdownTimer = null;
        }

        // Quiz Game Functions
        function initQuizGame() {
            quizScore = 0;
            currentQuestion = 0;
            quizGameTime = 0;
            document.getElementById('quizScore').textContent = '0';
            document.getElementById('quizTimer').textContent = '00:00';
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestion >= quizQuestions.length) {
                endQuizGame();
                return;
            }

            const question = quizQuestions[currentQuestion];
            document.getElementById('questionIcon').textContent = question.icon;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionNumber').textContent = `${currentQuestion + 1}/${quizQuestions.length}`;

            const options = document.querySelectorAll('.quiz-option');
            options.forEach((option, index) => {
                option.querySelector('.option-text').textContent = question.options[index];
                option.dataset.answer = index;
                option.classList.remove('correct', 'incorrect');
                option.disabled = false;
            });

            // Start timer on first question
            if (currentQuestion === 0) {
                startQuizTimer();
            }
        }

        function startQuizTimer() {
            quizStartTime = Date.now();
            quizTimer = setInterval(() => {
                quizGameTime = Date.now() - quizStartTime;
                const seconds = Math.floor(quizGameTime / 1000);
                const minutes = Math.floor(seconds / 60);
                const displaySeconds = seconds % 60;
                const displayTime = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
                document.getElementById('quizTimer').textContent = displayTime;
            }, 100);
        }

        function answerQuestion(selectedAnswer) {
            const question = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach(option => option.disabled = true);

            if (selectedAnswer == question.correct) {
                // Correct answer
                options[selectedAnswer].classList.add('correct');
                quizScore += 10;
                document.getElementById('quizScore').textContent = quizScore;
                playCorrectSound();
                createParticles(options[selectedAnswer], 8);
                showFeedback('‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!', 'success');
            } else {
                // Wrong answer
                options[selectedAnswer].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                playIncorrectSound();
                showFeedback('‚ùå ‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ', 'error');
            }

            setTimeout(() => {
                currentQuestion++;
                loadQuestion();
            }, 2000);
        }

        function endQuizGame() {
            clearInterval(quizTimer);
            playCompletionSound();
            createParticles(document.querySelector('#game2 .game-card'), 15);
            
            // Show result modal instead of inline result
            setTimeout(() => {
                showGameResultModal('game2', quizScore, quizGameTime, '‡πÄ‡∏Å‡∏°‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå');
            }, 1000);
        }

        // Startup Game Functions
        function initStartupGame() {
            sequenceScore = 0;
            sequenceGameTime = 0;
            document.getElementById('sequenceScore').textContent = '0';
            document.getElementById('sequenceTimer').textContent = '00:00';
            loadStartupSteps();
            resetStartupDropZones();
        }

        function loadStartupSteps() {
            const difficulty = document.getElementById('startupDifficulty').value;
            const steps = startupSequenceSteps[difficulty];
            const container = document.getElementById('startupSteps');
            const dropZonesContainer = document.getElementById('startupDropZones');
            
            // Reset dropped sequence array based on difficulty
            droppedSequence = new Array(steps.length).fill(null);
            
            // Create drop zones
            dropZonesContainer.innerHTML = '';
            dropZonesContainer.className = `grid grid-cols-1 md:grid-cols-${Math.min(steps.length, 4)} gap-4 mb-8`;
            
            for (let i = 0; i < steps.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'startup-drop bg-white rounded-xl p-4 text-center min-h-[120px] flex flex-col items-center justify-center border-4 border-dashed border-gray-300';
                dropZone.dataset.position = i;
                dropZone.innerHTML = `
                    <div class="text-2xl font-bold text-gray-400 mb-2">${i + 1}</div>
                    <div class="text-gray-500 font-semibold">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà ${i + 1}</div>
                    <div class="dropped-step hidden"></div>
                `;
                
                dropZone.addEventListener('dragover', (e) => e.preventDefault());
                dropZone.addEventListener('dragenter', (e) => {
                    e.preventDefault();
                    dropZone.classList.add('drag-over');
                });
                dropZone.addEventListener('dragleave', (e) => {
                    dropZone.classList.remove('drag-over');
                });
                dropZone.addEventListener('drop', handleStartupDrop);
                
                dropZonesContainer.appendChild(dropZone);
            }
            
            // Shuffle steps for challenge
            const shuffledSteps = [...steps].sort(() => Math.random() - 0.5);
            
            container.innerHTML = '';
            shuffledSteps.forEach(step => {
                const stepElement = document.createElement('div');
                stepElement.className = 'startup-step drag-item bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold p-4 rounded-xl transition-all cursor-grab shadow-lg';
                stepElement.draggable = true;
                stepElement.dataset.stepId = step.id;
                stepElement.innerHTML = `
                    <div class="text-2xl mb-2">${step.icon}</div>
                    <div class="text-sm font-bold mb-1">${step.text}</div>
                    <div class="text-xs opacity-80">${step.detail}</div>
                `;
                
                stepElement.addEventListener('dragstart', handleStartupDragStart);
                stepElement.addEventListener('dragend', handleStartupDragEnd);
                
                container.appendChild(stepElement);
            });
        }

        function resetStartupDropZones() {
            document.querySelectorAll('.startup-drop').forEach(zone => {
                zone.classList.remove('correct', 'incorrect');
                const droppedStep = zone.querySelector('.dropped-step');
                if (droppedStep) {
                    droppedStep.classList.add('hidden');
                    droppedStep.innerHTML = '';
                }
            });
        }

        // Shutdown Game Functions
        function initShutdownGame() {
            shutdownScore = 0;
            shutdownGameTime = 0;
            document.getElementById('shutdownScore').textContent = '0';
            document.getElementById('shutdownTimer').textContent = '00:00';
            loadShutdownSteps();
            resetShutdownDropZones();
        }

        function loadShutdownSteps() {
            const difficulty = document.getElementById('shutdownDifficulty').value;
            const steps = shutdownSequenceSteps[difficulty];
            const container = document.getElementById('shutdownSteps');
            const dropZonesContainer = document.getElementById('shutdownDropZones');
            
            // Reset dropped sequence array based on difficulty
            droppedShutdownSequence = new Array(steps.length).fill(null);
            
            // Create drop zones
            dropZonesContainer.innerHTML = '';
            dropZonesContainer.className = `grid grid-cols-1 md:grid-cols-${Math.min(steps.length, 4)} gap-4 mb-8`;
            
            for (let i = 0; i < steps.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'shutdown-drop bg-white rounded-xl p-4 text-center min-h-[120px] flex flex-col items-center justify-center border-4 border-dashed border-gray-300';
                dropZone.dataset.position = i;
                dropZone.innerHTML = `
                    <div class="text-2xl font-bold text-gray-400 mb-2">${i + 1}</div>
                    <div class="text-gray-500 font-semibold">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà ${i + 1}</div>
                    <div class="dropped-step hidden"></div>
                `;
                
                dropZone.addEventListener('dragover', (e) => e.preventDefault());
                dropZone.addEventListener('dragenter', (e) => {
                    e.preventDefault();
                    dropZone.classList.add('drag-over');
                });
                dropZone.addEventListener('dragleave', (e) => {
                    dropZone.classList.remove('drag-over');
                });
                dropZone.addEventListener('drop', handleShutdownDrop);
                
                dropZonesContainer.appendChild(dropZone);
            }
            
            // Shuffle steps for challenge
            const shuffledSteps = [...steps].sort(() => Math.random() - 0.5);
            
            container.innerHTML = '';
            shuffledSteps.forEach(step => {
                const stepElement = document.createElement('div');
                stepElement.className = 'shutdown-step drag-item bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold p-4 rounded-xl transition-all cursor-grab shadow-lg';
                stepElement.draggable = true;
                stepElement.dataset.stepId = step.id;
                stepElement.innerHTML = `
                    <div class="text-2xl mb-2">${step.icon}</div>
                    <div class="text-sm font-bold mb-1">${step.text}</div>
                    <div class="text-xs opacity-80">${step.detail}</div>
                `;
                
                stepElement.addEventListener('dragstart', handleShutdownDragStart);
                stepElement.addEventListener('dragend', handleShutdownDragEnd);
                
                container.appendChild(stepElement);
            });
        }

        function resetShutdownDropZones() {
            document.querySelectorAll('.shutdown-drop').forEach(zone => {
                zone.classList.remove('correct', 'incorrect');
                const droppedStep = zone.querySelector('.dropped-step');
                if (droppedStep) {
                    droppedStep.classList.add('hidden');
                    droppedStep.innerHTML = '';
                }
            });
        }

        // Startup Game Drag Handlers
        function handleStartupDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.stepId);
            e.target.style.opacity = '0.5';
            playButtonSound();
            
            // Start timer on first drag
            if (!sequenceTimer) {
                startSequenceTimer();
            }
        }

        function handleStartupDragEnd(e) {
            e.target.style.opacity = '1';
        }

        function handleStartupDrop(e) {
            e.preventDefault();
            const stepId = parseInt(e.dataTransfer.getData('text/plain'));
            const position = parseInt(e.target.closest('.startup-drop').dataset.position);
            const difficulty = document.getElementById('startupDifficulty').value;
            const step = startupSequenceSteps[difficulty].find(s => s.id === stepId);
            
            e.target.closest('.startup-drop').classList.remove('drag-over');
            
            // Update dropped sequence
            droppedSequence[position] = stepId;
            
            // Show dropped step
            const droppedStepDiv = e.target.closest('.startup-drop').querySelector('.dropped-step');
            droppedStepDiv.innerHTML = `
                <div class="text-2xl mb-1">${step.icon}</div>
                <div class="text-xs text-gray-600 font-semibold">${step.text}</div>
                <div class="text-xs text-gray-500 mt-1">${step.detail}</div>
            `;
            droppedStepDiv.classList.remove('hidden');
            
            // Hide original step
            const originalStep = document.querySelector(`[data-step-id="${stepId}"]`);
            if (originalStep) {
                originalStep.style.display = 'none';
            }
            
            playButtonSound();
        }

        // Shutdown Game Drag Handlers
        function handleShutdownDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.stepId);
            e.target.style.opacity = '0.5';
            playButtonSound();
            
            // Start timer on first drag
            if (!shutdownTimer) {
                startShutdownTimer();
            }
        }

        function handleShutdownDragEnd(e) {
            e.target.style.opacity = '1';
        }

        function handleShutdownDrop(e) {
            e.preventDefault();
            const stepId = parseInt(e.dataTransfer.getData('text/plain'));
            const position = parseInt(e.target.closest('.shutdown-drop').dataset.position);
            const difficulty = document.getElementById('shutdownDifficulty').value;
            const step = shutdownSequenceSteps[difficulty].find(s => s.id === stepId);
            
            e.target.closest('.shutdown-drop').classList.remove('drag-over');
            
            // Update dropped sequence
            droppedShutdownSequence[position] = stepId;
            
            // Show dropped step
            const droppedStepDiv = e.target.closest('.shutdown-drop').querySelector('.dropped-step');
            droppedStepDiv.innerHTML = `
                <div class="text-2xl mb-1">${step.icon}</div>
                <div class="text-xs text-gray-600 font-semibold">${step.text}</div>
                <div class="text-xs text-gray-500 mt-1">${step.detail}</div>
            `;
            droppedStepDiv.classList.remove('hidden');
            
            // Hide original step
            const originalStep = document.querySelector(`[data-step-id="${stepId}"]`);
            if (originalStep) {
                originalStep.style.display = 'none';
            }
            
            playButtonSound();
        }

        function startSequenceTimer() {
            sequenceStartTime = Date.now();
            sequenceTimer = setInterval(() => {
                sequenceGameTime = Date.now() - sequenceStartTime;
                const seconds = Math.floor(sequenceGameTime / 1000);
                const minutes = Math.floor(seconds / 60);
                const displaySeconds = seconds % 60;
                const displayTime = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
                document.getElementById('sequenceTimer').textContent = displayTime;
            }, 100);
        }

        function startShutdownTimer() {
            shutdownStartTime = Date.now();
            shutdownTimer = setInterval(() => {
                shutdownGameTime = Date.now() - shutdownStartTime;
                const seconds = Math.floor(shutdownGameTime / 1000);
                const minutes = Math.floor(seconds / 60);
                const displaySeconds = seconds % 60;
                const displayTime = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
                document.getElementById('shutdownTimer').textContent = displayTime;
            }, 100);
        }

        function checkStartupSequence() {
            const difficulty = document.getElementById('startupDifficulty').value;
            const steps = startupSequenceSteps[difficulty];
            const correctSequence = steps.map((_, index) => index);
            let correctCount = 0;
            
            document.querySelectorAll('.startup-drop').forEach((zone, index) => {
                if (droppedSequence[index] === correctSequence[index]) {
                    zone.classList.add('correct');
                    correctCount++;
                } else if (droppedSequence[index] !== null) {
                    zone.classList.add('incorrect');
                }
            });
            
            if (correctCount === steps.length) {
                // Perfect sequence
                clearInterval(sequenceTimer);
                sequenceScore = Math.max(0, 100 - Math.floor(sequenceGameTime / 1000));
                document.getElementById('sequenceScore').textContent = sequenceScore;
                playCompletionSound();
                createParticles(document.querySelector('#game3'), 15);
                
                showFeedback('üöÄ ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß!', 'success');
                
                // Show result modal after a short delay
                setTimeout(() => {
                    showGameResultModal('game3', sequenceScore, sequenceGameTime, '‡πÄ‡∏Å‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°');
                }, 1500);
            } else {
                playIncorrectSound();
                showFeedback(`‚ùå ‡∏ñ‡∏π‡∏Å ${correctCount}/${steps.length} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞!`, 'error');
                setTimeout(() => {
                    document.querySelectorAll('.startup-drop').forEach(zone => {
                        zone.classList.remove('correct', 'incorrect');
                    });
                }, 2000);
            }
        }

        function checkShutdownSequence() {
            const difficulty = document.getElementById('shutdownDifficulty').value;
            const steps = shutdownSequenceSteps[difficulty];
            const correctSequence = steps.map((_, index) => index);
            let correctCount = 0;
            
            document.querySelectorAll('.shutdown-drop').forEach((zone, index) => {
                if (droppedShutdownSequence[index] === correctSequence[index]) {
                    zone.classList.add('correct');
                    correctCount++;
                } else if (droppedShutdownSequence[index] !== null) {
                    zone.classList.add('incorrect');
                }
            });
            
            if (correctCount === steps.length) {
                // Perfect sequence
                clearInterval(shutdownTimer);
                shutdownScore = Math.max(0, 100 - Math.floor(shutdownGameTime / 1000));
                document.getElementById('shutdownScore').textContent = shutdownScore;
                playCompletionSound();
                createParticles(document.querySelector('#game4'), 15);
                
                showFeedback('üåô ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡πâ‡∏ß!', 'success');
                
                // Show result modal after a short delay
                setTimeout(() => {
                    showGameResultModal('game4', shutdownScore, shutdownGameTime, '‡πÄ‡∏Å‡∏°‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°');
                }, 1500);
            } else {
                playIncorrectSound();
                showFeedback(`‚ùå ‡∏ñ‡∏π‡∏Å ${correctCount}/${steps.length} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞!`, 'error');
                setTimeout(() => {
                    document.querySelectorAll('.shutdown-drop').forEach(zone => {
                        zone.classList.remove('correct', 'incorrect');
                    });
                }, 2000);
            }
        }

        function resetStartupGame() {
            playButtonSound();
            clearInterval(sequenceTimer);
            sequenceTimer = null;
            initStartupGame();
            showFeedback('üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà!', 'success');
        }

        function resetShutdownGame() {
            playButtonSound();
            clearInterval(shutdownTimer);
            shutdownTimer = null;
            initShutdownGame();
            showFeedback('üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà!', 'success');
        }



        // Stats functions
        function updateGameStats(gameKey, finalScore, gameTime) {
            let isNewRecord = false;
            
            // Calculate time-adjusted score (bonus for faster completion)
            const timeBonus = Math.max(0, 60 - Math.floor(gameTime / 1000)); // Bonus for completing under 60 seconds
            const adjustedScore = finalScore + timeBonus;
            
            // Update total games and cumulative stats
            gameStats[gameKey].totalGames++;
            gameStats[gameKey].totalScore += adjustedScore;
            gameStats[gameKey].totalTime += gameTime;
            
            // Check for new high score (using adjusted score)
            if (adjustedScore > gameStats[gameKey].bestScore) {
                gameStats[gameKey].bestScore = adjustedScore;
                isNewRecord = true;
            }
            
            // Check for best time (only if score is good)
            if (finalScore > 0 && (gameStats[gameKey].bestTime === null || gameTime < gameStats[gameKey].bestTime)) {
                gameStats[gameKey].bestTime = gameTime;
            }
            
            // Update difficulty stats for game1
            if (gameKey === 'game1') {
                const difficulty = document.getElementById('difficulty').value;
                gameStats.difficultyStats[difficulty]++;
            }
            
            // Add to game history
            const gameNames = {
                'game1': '‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå',
                'game2': '‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå',
                'game3': '‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°',
                'game4': '‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°'
            };
            
            const historyEntry = {
                game: gameNames[gameKey],
                gameKey: gameKey,
                score: finalScore,
                adjustedScore: adjustedScore,
                time: gameTime,
                timeBonus: timeBonus,
                timestamp: new Date().toLocaleString('th-TH'),
                isNewRecord: isNewRecord
            };
            
            gameStats.gameHistory.unshift(historyEntry); // Add to beginning
            
            // Keep only last 20 games
            if (gameStats.gameHistory.length > 20) {
                gameStats.gameHistory = gameStats.gameHistory.slice(0, 20);
            }
            
            saveStats();
            updateMainPageStats();
            updateGameHistory();
            updateProgressBars();
            updateAchievementBadges();
            return isNewRecord;
        }

        function showStatsModal() {
            const game = `game${currentGame}`;
            document.getElementById('bestScore').textContent = gameStats[game].bestScore;
            document.getElementById('bestTime').textContent = gameStats[game].bestTime ? formatTime(gameStats[game].bestTime) : '--:--';
            document.getElementById('totalGames').textContent = gameStats[game].totalGames;
            
            document.getElementById('easyStats').textContent = `${gameStats.difficultyStats.easy} ‡πÄ‡∏Å‡∏°`;
            document.getElementById('mediumStats').textContent = `${gameStats.difficultyStats.medium} ‡πÄ‡∏Å‡∏°`;
            document.getElementById('hardStats').textContent = `${gameStats.difficultyStats.hard} ‡πÄ‡∏Å‡∏°`;
            
            document.getElementById('statsModal').classList.remove('hidden');
        }

        function updateMainPageStats() {
            // Update individual game stats on main page
            document.getElementById('game1BestScore').textContent = gameStats.game1.bestScore;
            document.getElementById('game1BestTime').textContent = gameStats.game1.bestTime ? formatTime(gameStats.game1.bestTime) : '--:--';
            document.getElementById('game1Total').textContent = `${gameStats.game1.totalGames} ‡∏£‡∏≠‡∏ö`;
            
            document.getElementById('game2BestScore').textContent = gameStats.game2.bestScore;
            document.getElementById('game2BestTime').textContent = gameStats.game2.bestTime ? formatTime(gameStats.game2.bestTime) : '--:--';
            document.getElementById('game2Total').textContent = `${gameStats.game2.totalGames} ‡∏£‡∏≠‡∏ö`;
            
            document.getElementById('game3BestScore').textContent = gameStats.game3.bestScore;
            document.getElementById('game3BestTime').textContent = gameStats.game3.bestTime ? formatTime(gameStats.game3.bestTime) : '--:--';
            document.getElementById('game3Total').textContent = `${gameStats.game3.totalGames} ‡∏£‡∏≠‡∏ö`;
            
            document.getElementById('game4BestScore').textContent = gameStats.game4.bestScore;
            document.getElementById('game4BestTime').textContent = gameStats.game4.bestTime ? formatTime(gameStats.game4.bestTime) : '--:--';
            document.getElementById('game4Total').textContent = `${gameStats.game4.totalGames} ‡∏£‡∏≠‡∏ö`;
            
            // Update overall stats
            const totalScore = gameStats.game1.totalScore + gameStats.game2.totalScore + gameStats.game3.totalScore + gameStats.game4.totalScore;
            const totalGames = gameStats.game1.totalGames + gameStats.game2.totalGames + gameStats.game3.totalGames + gameStats.game4.totalGames;
            const totalTime = gameStats.game1.totalTime + gameStats.game2.totalTime + gameStats.game3.totalTime + gameStats.game4.totalTime;
            
            document.getElementById('totalScore').textContent = totalScore;
            document.getElementById('totalGamesPlayed').textContent = totalGames;
            document.getElementById('totalTimeSpent').textContent = formatTime(totalTime);
            
            // Find favorite game
            let favoriteGame = '-';
            if (totalGames > 0) {
                const games = [
                    { name: '‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà', count: gameStats.game1.totalGames },
                    { name: '‡∏Æ‡∏µ‡πÇ‡∏£‡πà', count: gameStats.game2.totalGames },
                    { name: '‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á', count: gameStats.game3.totalGames },
                    { name: '‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á', count: gameStats.game4.totalGames }
                ];
                games.sort((a, b) => b.count - a.count);
                favoriteGame = games[0].count > 0 ? games[0].name : '-';
            }
            document.getElementById('favoriteGame').textContent = favoriteGame;
        }

        function updateGameHistory() {
            const container = document.getElementById('recentGames');
            
            if (gameStats.gameHistory.length === 0) {
                container.innerHTML = '<p class="text-white/70 text-center">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</p>';
                return;
            }
            
            container.innerHTML = '';
            gameStats.gameHistory.forEach((entry, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = `bg-white/10 rounded-lg p-3 text-left ${entry.isNewRecord ? 'border-2 border-yellow-400' : ''}`;
                
                const gameIcon = {
                    'game1': 'üß≤',
                    'game2': 'üß†',
                    'game3': 'üöÄ',
                    'game4': 'üåô'
                };
                
                historyItem.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-2">
                            <span class="text-xl">${gameIcon[entry.gameKey]}</span>
                            <div>
                                <div class="font-semibold text-white text-sm">${entry.game}</div>
                                <div class="text-xs text-white/70">${entry.timestamp}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-white">
                                ${entry.adjustedScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                                ${entry.isNewRecord ? '<span class="text-yellow-400 ml-1">üèÜ</span>' : ''}
                            </div>
                            <div class="text-xs text-white/70">
                                ${entry.score} + ${entry.timeBonus} ‡πÇ‡∏ö‡∏ô‡∏±‡∏™
                            </div>
                            <div class="text-xs text-white/70">
                                ‚è±Ô∏è ${formatTime(entry.time)}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(historyItem);
            });
        }

        function clearHistory() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô?')) {
                gameStats.gameHistory = [];
                saveStats();
                updateGameHistory();
                showFeedback('üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!', 'success');
            }
        }

        function clearAllStats() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î? ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ!')) {
                gameStats = {
                    game1: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game2: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game3: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game4: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    difficultyStats: {
                        easy: 0,
                        medium: 0,
                        hard: 0
                    },
                    gameHistory: []
                };
                saveStats();
                updateMainPageStats();
                updateGameHistory();
                updateProgressBars();
                updateAchievementBadges();
                showFeedback('üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!', 'success');
            }
        }

        function clearStats() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
                gameStats = {
                    game1: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game2: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game3: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    game4: { bestScore: 0, bestTime: null, totalGames: 0, totalScore: 0, totalTime: 0 },
                    difficultyStats: {
                        easy: 0,
                        medium: 0,
                        hard: 0
                    },
                    gameHistory: []
                };
                saveStats();
                updateMainPageStats();
                updateGameHistory();
                showStatsModal(); // Refresh the display
                showFeedback('üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!', 'success');
            }
        }

        // Sound Effects using Web Audio API
        let audioContext;
        
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playSound(frequency, duration, type = 'sine', volume = 0.3) {
            if (!soundEnabled) return;
            
            try {
                initAudioContext();
                
                if (!audioContext || audioContext.state === 'suspended') {
                    return; // Skip if audio context is not available
                }
                
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(volume, audioContext.currentTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            } catch (e) {
                console.warn('Audio playback failed:', e);
                // Disable sound if there are persistent errors
                if (e.name === 'NotAllowedError') {
                    soundEnabled = false;
                    document.getElementById('soundToggle').textContent = 'üîá';
                }
            }
        }

        function playCorrectSound() {
            // Happy ascending notes
            playSound(523.25, 0.2); // C5
            setTimeout(() => playSound(659.25, 0.2), 100); // E5
            setTimeout(() => playSound(783.99, 0.3), 200); // G5
        }

        function playIncorrectSound() {
            // Descending sad notes
            playSound(392, 0.3, 'sawtooth', 0.2); // G4
            setTimeout(() => playSound(349.23, 0.4, 'sawtooth', 0.2), 150); // F4
        }

        function playButtonSound() {
            playSound(800, 0.1, 'square', 0.1);
        }

        function playComboSound(comboLevel) {
            // Special combo sound
            for (let i = 0; i < comboLevel; i++) {
                setTimeout(() => {
                    playSound(1000 + (i * 200), 0.15, 'triangle', 0.2);
                }, i * 50);
            }
        }

        function playCompletionSound() {
            // Victory fanfare
            const notes = [523.25, 659.25, 783.99, 1046.50]; // C5, E5, G5, C6
            notes.forEach((note, index) => {
                setTimeout(() => {
                    playSound(note, 0.4, 'triangle', 0.3);
                }, index * 150);
            });
        }

        function createParticles(element, count = 8) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const angle = (i / count) * Math.PI * 2;
                const distance = 50 + Math.random() * 50;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                particle.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
                
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }

        function showScorePopup(element, points) {
            const popup = document.createElement('div');
            popup.className = 'score-popup';
            popup.textContent = `+${points}`;
            
            const rect = element.getBoundingClientRect();
            popup.style.left = (rect.left + rect.width / 2) + 'px';
            popup.style.top = rect.top + 'px';
            
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 1000);
        }

        function showComboIndicator(combo) {
            const indicator = document.createElement('div');
            indicator.className = 'combo-indicator';
            
            if (combo === 2) indicator.textContent = 'üî• COMBO x2!';
            else if (combo === 3) indicator.textContent = '‚ö° SUPER COMBO x3!';
            else if (combo >= 4) indicator.textContent = 'üí´ MEGA COMBO x' + combo + '!';
            
            document.body.appendChild(indicator);
            setTimeout(() => indicator.remove(), 1000);
        }

        function checkCombo() {
            const currentTime = Date.now();
            if (currentTime - lastCorrectTime < 3000) { // 3 seconds for combo
                comboCount++;
                if (comboCount >= 2) {
                    showComboIndicator(comboCount);
                    playComboSound(comboCount);
                    // Bonus points for combo
                    score += comboCount * 5;
                    updateScore();
                }
            } else {
                comboCount = 1;
            }
            lastCorrectTime = currentTime;
        }

        // Initialize drag and drop
        function initDragAndDrop() {
            const dragItems = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');

            dragItems.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
                zone.addEventListener('drop', handleDrop);
            });
        }

        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.device);
            e.target.style.opacity = '0.5';
            playButtonSound();
            
            // Start timer on first drag
            if (!gameTimer && correctAnswers === 0) {
                startTimer();
            }
        }

        function handleDragEnd(e) {
            e.target.style.opacity = '1';
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            const dropZone = e.target.closest('.drop-zone');
            if (dropZone) {
                dropZone.classList.add('drag-over');
                playSound(400, 0.1, 'sine', 0.1);
            }
        }

        function handleDragLeave(e) {
            const dropZone = e.target.closest('.drop-zone');
            if (dropZone) {
                dropZone.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const draggedDevice = e.dataTransfer.getData('text/plain');
            const dropZone = e.target.closest('.drop-zone');
            const targetDevice = dropZone.dataset.device;
            
            dropZone.classList.remove('drag-over');

            if (draggedDevice === targetDevice) {
                // Correct answer
                dropZone.classList.add('correct');
                dropZone.querySelector('.device-name').classList.remove('hidden');
                
                // Remove the dragged item
                const draggedItem = document.querySelector(`[data-device="${draggedDevice}"]`);
                if (draggedItem.classList.contains('drag-item')) {
                    draggedItem.style.display = 'none';
                }

                // Play correct sound and effects
                playCorrectSound();
                createParticles(dropZone, 12);
                checkCombo();
                
                // Update score
                const basePoints = 10;
                const comboBonus = comboCount > 1 ? comboCount * 5 : 0;
                const totalPoints = basePoints + comboBonus;
                score += totalPoints;
                correctAnswers++;
                updateScore();
                showScorePopup(dropZone, totalPoints);

                // Visual feedback
                showFeedback('‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!', 'success');
                dropZone.classList.add('celebration');

                // Check if game is complete
                if (correctAnswers === totalItems) {
                    stopTimer();
                    setTimeout(() => {
                        playCompletionSound();
                        createParticles(document.querySelector('.game-card'), 20);
                        showGameResultModal('game1', score, currentGameTime, '‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå');
                    }, 1000);
                }

                setTimeout(() => {
                    dropZone.classList.remove('correct', 'celebration');
                }, 800);

            } else {
                // Wrong answer
                dropZone.classList.add('incorrect');
                playIncorrectSound();
                comboCount = 0; // Reset combo on wrong answer
                
                // Track wrong attempts
                if (!wrongAttempts[targetDevice]) {
                    wrongAttempts[targetDevice] = 0;
                }
                wrongAttempts[targetDevice]++;

                score = Math.max(0, score - 5);
                updateScore();

                // Show hint after 3 wrong attempts
                if (wrongAttempts[targetDevice] >= 3) {
                    dropZone.querySelector('.hint').classList.remove('hidden');
                    showFeedback('üí° ‡∏î‡∏π‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û', 'hint');
                } else {
                    showFeedback('‚ùå ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞', 'error');
                }

                setTimeout(() => {
                    dropZone.classList.remove('incorrect');
                }, 600);
            }
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
        }

        function showFeedback(message, type) {
            const feedback = document.createElement('div');
            feedback.className = `fixed top-4 right-4 px-6 py-3 rounded-lg font-semibold z-50 ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            feedback.textContent = message;
            document.body.appendChild(feedback);

            setTimeout(() => {
                feedback.remove();
            }, 2000);
        }

        function showGameResultModal(gameKey, baseScore, gameTime, gameTitle) {
            const timeBonus = Math.max(0, 60 - Math.floor(gameTime / 1000));
            const totalScore = baseScore + timeBonus;
            const isNewRecord = updateGameStats(gameKey, baseScore, gameTime);
            
            // Update modal content
            document.getElementById('currentBaseScore').textContent = baseScore;
            document.getElementById('currentTimeBonus').textContent = `+${timeBonus}`;
            document.getElementById('currentTotalScore').textContent = totalScore;
            document.getElementById('currentGameTime').textContent = formatTime(gameTime);
            
            // Update comparison stats
            document.getElementById('bestScoreComparison').textContent = gameStats[gameKey].bestScore;
            document.getElementById('bestTimeComparison').textContent = gameStats[gameKey].bestTime ? formatTime(gameStats[gameKey].bestTime) : '--:--';
            document.getElementById('totalGamesComparison').textContent = gameStats[gameKey].totalGames;
            
            // Set appropriate messages based on game and performance
            let icon = 'üéâ';
            let title = '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!';
            let message = `‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πà‡∏ô${gameTitle}‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`;
            let achievement = 'üéñÔ∏è ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ‡πÄ‡∏î‡πà‡∏ô"';
            let encouragement = '‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß';
            
            // Customize based on performance
            if (isNewRecord) {
                icon = 'üèÜ';
                title = '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏´‡∏°‡πà!';
                achievement = 'üåü ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡πÅ‡∏ä‡∏°‡∏õ‡πå‡πÉ‡∏´‡∏°‡πà"';
                encouragement = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
                document.getElementById('newRecord').classList.remove('hidden');
                playSound(1200, 0.5, 'triangle', 0.3);
            } else {
                document.getElementById('newRecord').classList.add('hidden');
            }
            
            // Performance-based messages with game-specific content
            if (totalScore >= 90) {
                icon = 'üèÜ';
                title = '‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå!';
                achievement = 'ü•á ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á"';
                encouragement = '‡πÄ‡∏Å‡πà‡∏á‡∏™‡∏∏‡∏î‡πÜ! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß!';
            } else if (totalScore >= 80) {
                icon = 'üåü';
                title = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!';
                achievement = 'ü•á ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç"';
                encouragement = '‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß!';
            } else if (totalScore >= 60) {
                icon = '‚≠ê';
                title = '‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!';
                achievement = 'ü•à ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡πà‡∏á"';
                encouragement = '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß!';
            } else if (totalScore >= 40) {
                icon = 'üëç';
                title = '‡∏î‡∏µ‡∏°‡∏≤‡∏Å!';
                achievement = 'ü•â ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ"';
                encouragement = '‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á!';
            } else if (totalScore >= 20) {
                icon = 'üí™';
                title = '‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß!';
                achievement = 'üéØ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡∏™‡∏π‡πâ"';
                encouragement = '‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£! ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô!';
            } else {
                icon = 'üå±';
                title = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡∏µ!';
                achievement = 'üåü ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà"';
                encouragement = '‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏µ‡∏Å‡πÄ‡∏¢‡∏≠‡∏∞! ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞!';
            }
            
            document.getElementById('resultModalIcon').textContent = icon;
            document.getElementById('resultModalTitle').textContent = title;
            document.getElementById('resultModalMessage').textContent = message;
            document.getElementById('achievementText').textContent = achievement;
            document.getElementById('encouragementText').textContent = encouragement;
            
            // Store current game for button actions
            document.getElementById('gameResultModal').dataset.currentGame = currentGame;
            
            document.getElementById('gameResultModal').classList.remove('hidden');
        }

        function resetGame() {
            playButtonSound();
            
            // Stop and reset timer
            stopTimer();
            currentGameTime = 0;
            document.getElementById('timer').textContent = '00:00';
            
            score = 0;
            correctAnswers = 0;
            wrongAttempts = {};
            comboCount = 0;
            lastCorrectTime = 0;
            updateScore();

            // Reset drop zones
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('correct', 'incorrect', 'celebration');
                zone.querySelector('.device-name').classList.add('hidden');
                zone.querySelector('.hint').classList.add('hidden');
            });

            // Show all drag items with animation
            document.querySelectorAll('.drag-item').forEach((item, index) => {
                item.style.display = 'flex';
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    item.style.transition = 'all 0.3s ease';
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                }, index * 100);
            });

            document.getElementById('gameResultModal').classList.add('hidden');
            showFeedback('üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà!', 'success');
        }

        function toggleHints() {
            playButtonSound();
            const difficulty = document.getElementById('difficulty').value;
            const hints = document.querySelectorAll('.hint');
            
            if (difficulty === 'easy') {
                hints.forEach((hint, index) => {
                    setTimeout(() => {
                        hint.classList.remove('hidden');
                        hint.style.animation = 'fadeIn 0.3s ease-in-out';
                    }, index * 100);
                });
                showFeedback('üí° ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡πÅ‡∏•‡πâ‡∏ß!', 'hint');
            } else {
                hints.forEach(hint => {
                    hint.classList.add('hidden');
                });
                showFeedback('üéØ ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡πÅ‡∏•‡πâ‡∏ß!', 'success');
            }
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const button = document.getElementById('soundToggle');
            button.textContent = soundEnabled ? 'üîä' : 'üîá';
            button.title = soundEnabled ? '‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á' : '‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á';
            
            if (soundEnabled) {
                playButtonSound();
                showFeedback('üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß!', 'success');
            } else {
                showFeedback('üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß!', 'hint');
            }
        }

        // Event listeners
        document.getElementById('resetGame').addEventListener('click', resetGame);
        
        // New modal button listeners
        document.getElementById('playAgainButton').addEventListener('click', () => {
            playButtonSound();
            document.getElementById('gameResultModal').classList.add('hidden');
            const gameNum = parseInt(document.getElementById('gameResultModal').dataset.currentGame);
            if (gameNum === 1) {
                resetGame();
            } else if (gameNum === 2) {
                initQuizGame();
            } else if (gameNum === 3) {
                initStartupGame();
            } else if (gameNum === 4) {
                initShutdownGame();
            }
        });
        
        document.getElementById('tryOtherGameButton').addEventListener('click', () => {
            playButtonSound();
            document.getElementById('gameResultModal').classList.add('hidden');
            showLandingPage();
        });
        
        document.getElementById('backToHomeButton').addEventListener('click', () => {
            playButtonSound();
            document.getElementById('gameResultModal').classList.add('hidden');
            showLandingPage();
        });
        document.getElementById('showHints').addEventListener('click', toggleHints);
        document.getElementById('showStats').addEventListener('click', () => {
            playButtonSound();
            showStatsModal();
        });
        document.getElementById('closeStats').addEventListener('click', () => {
            playButtonSound();
            document.getElementById('statsModal').classList.add('hidden');
        });
        document.getElementById('clearStats').addEventListener('click', () => {
            playButtonSound();
            clearStats();
        });
        document.getElementById('clearHistory').addEventListener('click', () => {
            playButtonSound();
            clearHistory();
        });
        document.getElementById('clearAllStats').addEventListener('click', () => {
            playButtonSound();
            clearAllStats();
        });
        document.getElementById('difficulty').addEventListener('change', (e) => {
            playButtonSound();
            toggleHints();
        });
        document.getElementById('soundToggle').addEventListener('click', toggleSound);
        document.getElementById('backButton').addEventListener('click', showLandingPage);

        // Quiz Game Event Listeners
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', (e) => {
                const answer = parseInt(e.target.closest('.quiz-option').dataset.answer);
                answerQuestion(answer);
            });
        });
        document.getElementById('restartQuiz').addEventListener('click', () => {
            playButtonSound();
            initQuizGame();
        });

        // Startup Game Event Listeners
        document.getElementById('startupDifficulty').addEventListener('change', () => {
            playButtonSound();
            initStartupGame();
        });
        document.getElementById('checkStartupSequence').addEventListener('click', () => {
            playButtonSound();
            checkStartupSequence();
        });
        document.getElementById('resetStartupSequence').addEventListener('click', resetStartupGame);

        // Shutdown Game Event Listeners
        document.getElementById('shutdownDifficulty').addEventListener('change', () => {
            playButtonSound();
            initShutdownGame();
        });
        document.getElementById('checkShutdownSequence').addEventListener('click', () => {
            playButtonSound();
            checkShutdownSequence();
        });
        document.getElementById('resetShutdownSequence').addEventListener('click', resetShutdownGame);

        // Add hover effects to all interactive elements
        document.querySelectorAll('.drag-item, .button-hover, .drop-zone, .landing-card').forEach(element => {
            element.addEventListener('mouseenter', () => {
                if (soundEnabled) {
                    playSound(600, 0.05, 'sine', 0.05);
                }
            });
        });

        // Initialize audio context on first user interaction
        document.addEventListener('click', () => {
            initAudioContext();
            if (audioContext && audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }, { once: true });

        // Initialize game
        loadStats(); // Load saved statistics
        updateMainPageStats(); // Update stats display
        updateGameHistory(); // Update history display
        updateProgressBars(); // Update progress bars
        updateAchievementBadges(); // Update achievement badges
        initDragAndDrop();
        
        // Show landing page by default
        showLandingPage();
        
        // Welcome sound and animation
        setTimeout(() => {
            if (soundEnabled) {
                playSound(523.25, 0.3, 'triangle', 0.2);
                setTimeout(() => playSound(659.25, 0.3, 'triangle', 0.2), 200);
            }
            
            // Show personalized welcome message based on stats
            const totalGames = gameStats.game1.totalGames + gameStats.game2.totalGames + 
                             gameStats.game3.totalGames + gameStats.game4.totalGames;
            
            let welcomeMessage = 'üéÆ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå!';
            
            if (totalGames > 20) {
                welcomeMessage = 'üèÜ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå!';
            } else if (totalGames > 10) {
                welcomeMessage = '‚≠ê ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡πà‡∏á!';
            } else if (totalGames > 0) {
                welcomeMessage = 'üëã ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?';
            }
            
            showFeedback(welcomeMessage, 'success');
        }, 500);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9760fae0e3147336',t:'MTc1NjM1NDQ0Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
